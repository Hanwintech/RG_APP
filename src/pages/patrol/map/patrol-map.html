<ion-header>
  <ion-toolbar>
    <ion-title>巡查在线</ion-title>
    <ion-buttons right>
      <button ion-button icon-only (click)="showSearch()">
        <ion-icon name="ios-funnel-outline"></ion-icon>
      </button>
      <button ion-button icon-only (click)="list()">
        <ion-icon name="ios-list-box-outline"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="topHeader" *ngIf="search">
    <div style="float:left;margin-right:1.2em;">
      <div *ngIf="search.culturalRelicName">名称:{{search.culturalRelicName}}</div>
      <div *ngIf="!search.culturalRelicName">名称:不限</div>
      <div>类别:{{search.culturalRelicLevelName}}</div>
    </div>
    <div>
      <div style="white-space:nowrap">时间:{{search.startDate}}至{{search.endDate}}</div>
      <div *ngIf="search.districtName&&search.areaName">地区:{{search.areaName}}—{{search.districtName}}</div>
      <div *ngIf="!search.districtName&&search.areaName">地区:{{search.areaName}}</div>
      <div *ngIf="!search.areaName">地区:不限</div>
    </div>
  </div>
  <div class="card" [ngClass]="{'hideCard':CardContrl}">
    <div class="selfThing">
      <span></span>本体</div>
    <div class="protect">
      <span></span>保护范围</div>
    <div class="controlPlace">
      <span></span>建设控制地带</div>
  </div>
  <div id="map-content">
    <div id="map" #map></div>
  </div>
  <div class="bottom">
    <div class="locateContainer" (click)="selfLocation()">
      <div></div>
    </div>
    <div class="editInfo">
      <div></div>
    </div>
    <div class="clear"></div>
    <div class="upArrow" [ngClass]="{'showUpArrow':upArrowContrl}" (click)="showBottomInfo()">
      <div></div>
    </div>
    <div class="clear"></div>
    <div class="detail" [ngClass]="{'hideBottom':hideContrl}">
      <div class="titleContain" *ngIf="selectedMarkItem">
        <div class="title">{{selectedMarkItem.showName}}</div>
        <div class="subTitle">
          <span [ngClass]="{'hideDetailItem':!hideDetailContrl}">文物:{{selectedMarkItem.culturalRelicCount}}</span>
          <span>巡查:{{patrolCountTemp}}</span>
        </div>
      </div>
      <div class="ios-arrow-down" (click)="controlBottom()">
        <div></div>
      </div>
      <div class="clear"></div>
      <div class="detailItem" [ngClass]="{'hideDetailItem':hideDetailContrl}">
        <div (click)="viewDetail()">
          <img src="assets/map/ic_operation_detail.png" /> 查看详情
        </div>
        <div (click)="viewPatrol()">
          <img src="assets/map/ic_operation_patrol.png" /> 查看巡查
        </div>
        <div (click)="viewPic()">
          <img src="assets/map/ic_operation_image.png" /> 查看图片
        </div>
      </div>
      <div class="clear"></div>
    </div>
  </div>

</ion-content>